name: CI Workflow

on:
  push:
    branches:
      - trunck # Ta branche avec une faute, mais √ßa fonctionne üòâ
  pull_request:
    branches:
      - trunck

jobs:
  lint:
    name: Lint HTML and JS
    runs-on: ubuntu-latest

    steps:
      # √âtape 1 : Cloner le d√©p√¥t
      - name: Checkout code
        uses: actions/checkout@v3

      # √âtape 2 : Configurer Node.js
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18 # Version LTS recommand√©e de Node.js

      # √âtape 3 : Installer les d√©pendances (ESLint et plugins)
      - name: Install dependencies
        run: npm install

      # √âtape 4 : Ex√©cuter ESLint sur index.html
      - name: Run ESLint
        run: npm run lint

  docker-build:
    name: Build and Test Dockerfile
    runs-on: ubuntu-latest

    steps:
      # √âtape 1 : Cloner le d√©p√¥t
      - name: Checkout code
        uses: actions/checkout@v3

      # √âtape 2 : Construire l'image Docker
      - name: Build Docker Image
        run: |
          docker build -t my-app:test .

      # √âtape 3 : Tester l'image Docker
      - name: Run Docker container
        run: |
          docker run --rm my-app:test
